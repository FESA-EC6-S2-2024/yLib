<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Form</title>
</head>
<body>
<div xmlns:th="http://www.thymeleaf.org" th:fragment="bookForm(actionUrl, buttonText)">
    <form th:action="${actionUrl}" th:object="${book}" method="post">
        <!-- ISBN -->
        <div class="mb-4">
            <label for="ISBN" class="block text-sm font-medium text-gray-700">ISBN</label>
            <input type="text" th:field="*{ISBN}" id="ISBN" required
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"/>
            <p class="text-red-500 text-xs mt-1" th:if="${#fields.hasErrors('ISBN')}" th:errors="*{ISBN}">ISBN error</p>
        </div>

        <!-- Title -->
        <div class="mb-4">
            <label for="title" class="block text-sm font-medium text-gray-700">Title</label>
            <input type="text" th:field="*{title}" id="title" required
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"/>
            <p class="text-red-500 text-xs mt-1" th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Title error</p>
        </div>

        <!-- Genre -->
        <div class="mb-4">
            <label for="genre" class="block text-sm font-medium text-gray-700">Genre</label>
            <select th:field="*{genre}" id="genre" required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm">
                <option th:each="g : ${genres}" th:value="${g}" th:text="${g.description}">Genre</option>
            </select>
            <p class="text-red-500 text-xs mt-1" th:if="${#fields.hasErrors('genre')}" th:errors="*{genre}">Genre error</p>
        </div>

        <!-- Published Year -->
        <div class="mb-4">
            <label for="publishedYear" class="block text-sm font-medium text-gray-700">Published Year</label>
            <input type="datetime-local" th:field="*{publishedYear}" id="publishedYear" required
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"/>
            <p class="text-red-500 text-xs mt-1" th:if="${#fields.hasErrors('publishedYear')}" th:errors="*{publishedYear}">Published Year error</p>
        </div>

        <!-- Available Units -->
        <div class="mb-4">
            <label for="availableUnits" class="block text-sm font-medium text-gray-700">Available Units</label>
            <input type="number" th:field="*{availableUnits}" id="availableUnits" required min="0"
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"/>
            <p class="text-red-500 text-xs mt-1" th:if="${#fields.hasErrors('availableUnits')}" th:errors="*{availableUnits}">Available Units error</p>
        </div>

        <!-- Total Units -->
        <div class="mb-4">
            <label for="totalUnits" class="block text-sm font-medium text-gray-700">Total Units</label>
            <input type="number" th:field="*{totalUnits}" id="totalUnits" required min="0"
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"/>
            <p class="text-red-500 text-xs mt-1" th:if="${#fields.hasErrors('totalUnits')}" th:errors="*{totalUnits}">Total Units error</p>
        </div>

        <!-- Author -->
        <div class="mb-4">
            <label for="author" class="block text-sm font-medium text-gray-700">Author</label>
            <select th:field="*{author}" id="author" required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm">
                <option th:each="a : ${authors}" th:value="${a}" th:text="${a.name}">Author</option>
            </select>
            <p class="text-red-500 text-xs mt-1" th:if="${#fields.hasErrors('author')}" th:errors="*{author}">Author error</p>
        </div>

        <!-- Editor -->
        <div class="mb-4">
            <label for="editor" class="block text-sm font-medium text-gray-700">Editor</label>
            <select th:field="*{editor}" id="editor" required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm">
                <option th:each="e : ${editors}" th:value="${e}" th:text="${e.name}">Editor</option>
            </select>
            <p class="text-red-500 text-xs mt-1" th:if="${#fields.hasErrors('editor')}" th:errors="*{editor}">Editor error</p>
        </div>

        <!-- Book Image -->
        <div class="mb-4">
            <label for="image" class="block text-sm font-medium text-gray-700">Book Image URL</label>
            <input type="text" th:field="*{image}" id="image"
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"/>
            <p class="text-red-500 text-xs mt-1" th:if="${#fields.hasErrors('image')}" th:errors="*{image}">Image error</p>
        </div>

        <!-- Submit Button -->
        <div class="flex justify-end mt-6">
            <button type="submit" class="w-full py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 font-bold">
                <span th:text="${buttonText}">Submit</span>
            </button>
        </div>
    </form>
</div>
</body>
</html>
